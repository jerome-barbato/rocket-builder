@mixin lib-hide{

  @each $id, $media-query in $media-queries{

    @media #{$media-query} {
      [data-hide_on="#{$id}"]{ display: none }
    }

    [data-show_on="#{$id}"]{
      display: none;
      @media #{$media-query} { display: block }
    }
  }

  .mobile [data-hide_on="mobile"]{ display: none }
  .desktop [data-hide_on="desktop"]{ display: none }

  .desktop [data-show_on="desktop"]{ display: block }
  .mobile [data-show_on="mobile"]{ display: block }
}

@if (variable-exists(libraries) and index($libraries, 'hide')) {
  @include lib-hide;
}
