@mixin lib-hide{

  @each $id, $media-query in $media-queries
  {
    @media #{$media-query} {
      [data-hide_on="#{$id}"]{ display: none!important }
      [data-show_on="#{$id}"]{ display: initial!important }
    }
  }

  [data-show_on],
  .mobile [data-hide_on="mobile"],
  .desktop [data-hide_on="desktop"]{ display: none!important }

  .desktop [data-show_on="desktop"],
  .mobile [data-show_on="mobile"]{ display: initial!important }
}

@if (variable-exists(libraries) and index($libraries, 'hide')) {
  @include lib-hide;
}
